{"version":3,"sources":["components/Searchbar/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","API/images-api.js","API/constants.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/SearchForm/SearchForm.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css"],"names":["SearchForm","state","pictureName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","this","className","s","form","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","onChange","Component","Searchbar","searchbar","ImageGalleryItem","pictures","onClick","map","picture","item","id","src","webformatURL","alt","fetchImages","name","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","status","handleImageClick","e","currentPicture","find","Number","toggleModal","setModalImage","largeImageURL","prevProps","prevState","prevName","nextName","prevPage","nextPage","hits","setStatus","catch","message","color","height","width","timeout","gallery","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","App","showModal","onLoadMore","setTimeout","scroll","scrollToBottom","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.49cc3e59.chunk.js","sourcesContent":["import s from './SearchForm.module.css';\r\nimport { toast } from 'react-toastify';\r\nimport { Component } from 'react';\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    pictureName: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({\r\n      pictureName: event.currentTarget.value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.pictureName.trim() === '') {\r\n      return toast.error('What are you looking for?');\r\n    }\r\n    this.props.onSubmit(this.state.pictureName);\r\n    this.setState({ pictureName: '' });\r\n  };\r\n\r\n  render() {\r\n    const { pictureName } = this.state;\r\n    return (\r\n      <form className={s.form} onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className={s.button}>\r\n          <span className={s.buttonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          value={pictureName}\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.handleNameChange}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import s from './Searchbar.module.css';\r\nimport SearchForm from './SearchForm';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <SearchForm onSubmit={onSubmit} />\r\n    </header>\r\n  );\r\n}\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ pictures, onClick }) {\r\n  return (\r\n    <>\r\n      {pictures.map(picture => (\r\n        <li className={s.item} key={picture.id}>\r\n          <img\r\n            id={picture.id}\r\n            src={picture.webformatURL}\r\n            alt=\"\"\r\n            onClick={onClick}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import { BASE_URL } from './constants';\r\nimport { API_KEY } from './constants';\r\n\r\nexport default function fetchImages(name, page) {\r\n  return fetch(\r\n    `${BASE_URL}/?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(\r\n      new Error(`There are no images ${name}`),\r\n    );\r\n  });\r\n}\r\n","export const API_KEY = '23541040-6cd4bf6b7c4617c11fc95022a';\r\nexport const BASE_URL = 'https://pixabay.com/api';\r\n","import s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport fetchImages from '../../API/images-api';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    pictures: null,\r\n    status: 'idle',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.pictureName;\r\n    const nextName = this.props.pictureName;\r\n    const prevPage = prevProps.page;\r\n    const nextPage = this.props.page;\r\n\r\n    if (prevName !== nextName) {\r\n      this.setState({ status: 'pending' });\r\n      fetchImages(nextName, 1)\r\n        .then(pictures => {\r\n          this.setState({\r\n            pictures: pictures.hits,\r\n            status: 'resolved',\r\n          });\r\n          this.props.setStatus(this.state.status);\r\n        })\r\n        .catch(error => {\r\n          this.setState({ error, status: 'rejected' });\r\n          this.props.setStatus(this.state.status);\r\n          toast.error(error.message);\r\n        });\r\n    }\r\n\r\n    if (prevPage !== nextPage) {\r\n      fetchImages(nextName, this.props.page)\r\n        .then(pictures => {\r\n          this.setState({\r\n            pictures: [\r\n              ...prevState.pictures,\r\n              ...pictures.hits,\r\n            ],\r\n            status: 'resolved',\r\n          });\r\n          this.props.setStatus(this.state.status);\r\n        })\r\n        .catch(error => {\r\n          this.setState({ error, status: 'rejected' });\r\n          this.props.setStatus(this.state.status);\r\n        });\r\n    }\r\n  }\r\n\r\n  handleImageClick = e => {\r\n    const { pictures } = this.state;\r\n    const currentPicture = pictures.find(\r\n      picture => picture.id === Number(e.currentTarget.id),\r\n    );\r\n    if (currentPicture) {\r\n      this.props.toggleModal();\r\n      this.props.setModalImage(\r\n        currentPicture.largeImageURL,\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { pictures, error, status } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return <div></div>;\r\n    }\r\n\r\n    if (status === 'pending') {\r\n      return (\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#3f51b5\"\r\n          height={50}\r\n          width={80}\r\n          timeout={3000}\r\n        />\r\n      );\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      return <p>What are you looking for?</p>;\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <ul className={s.gallery}>\r\n          <ImageGalleryItem\r\n            pictures={pictures}\r\n            onClick={this.handleImageClick}\r\n          />\r\n        </ul>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import s from './Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={s.button}\r\n      onClick={onClick}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from 'components/ImageGallery';\r\nimport Button from 'components/Button/Button';\r\nimport Modal from 'components/Modal';\r\nimport { defaults } from 'gh-pages';\r\n\r\nclass App extends Component {\r\n  // static defaultProps = {\r\n  //   initialShowModal: false,\r\n  //   initialPictureName: '',\r\n  //   initialLargeImageURL: '',\r\n  //   initialPage: 1,\r\n  //   initialStatus: 'idle',\r\n  // };\r\n\r\n  // static propTypes = {\r\n  //   initialShowModal: PropTypes.bool.isRequired,\r\n  //   initialPictureName: PropTypes.string.isRequired,\r\n  //   initialLargeImageURL: PropTypes.string.isRequired,\r\n  //   initialPage: PropTypes.number.isRequired,\r\n  //   initialStatus: PropTypes.instanceOf([\r\n  //     'idle',\r\n  //     'pending',\r\n  //     'resolved',\r\n  //     'rejected',\r\n  //   ]),\r\n  // };\r\n\r\n  // state = {\r\n  //   showModal: this.props.initialShowModal,\r\n  //   pictureName: this.props.initialPictureName,\r\n  //   largeImageURL: this.props.initialLargeImageURL,\r\n  //   page: this.props.initialPage,\r\n  //   status: this.props.initialStatus,\r\n  // };\r\n\r\n  state = {\r\n    showModal: false,\r\n    pictureName: '',\r\n    largeImageURL: '',\r\n    page: '',\r\n    status: '',\r\n  };\r\n  onLoadMore = () => {\r\n    let { page } = this.state;\r\n    this.setState({ page: page + 1, status: 'pending' });\r\n    setTimeout(() => {\r\n      scroll.scrollToBottom();\r\n    }, 700);\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  setModalImage = largeImageURL => {\r\n    this.setState({ largeImageURL });\r\n  };\r\n\r\n  handleFormSubmit = pictureName => {\r\n    this.setState({ pictureName });\r\n  };\r\n\r\n  setStatus = status => this.setState({ status: status });\r\n\r\n  render() {\r\n    const {\r\n      pictureName,\r\n      showModal,\r\n      largeImageURL,\r\n      page,\r\n      status,\r\n    } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ToastContainer autoClose={2000} />\r\n        <ImageGallery\r\n          pictureName={pictureName}\r\n          toggleModal={this.toggleModal}\r\n          setModalImage={this.setModalImage}\r\n          page={page}\r\n          setStatus={this.setStatus}\r\n        />\r\n        {status === 'resolved' && (\r\n          <Button onClick={this.onLoadMore} />\r\n        )}\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './styles.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__3LbI5\",\"button\":\"SearchForm_button__iHWeW\",\"buttonLabel\":\"SearchForm_buttonLabel__HqoOK\",\"input\":\"SearchForm_input__3-n0P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3KmN1\",\"modal\":\"Modal_modal___lqhi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__24TNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3J4VI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2gVqr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2etG6\"};"],"sourceRoot":""}